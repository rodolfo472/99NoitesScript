<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Cadastro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background:#0f172a;
  color:white;
  font-family:Arial;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.card {
  background:#020617;
  padding:20px;
  border-radius:14px;
  width:300px;
}
input, select, button {
  width:100%;
  padding:10px;
  margin-top:8px;
  border-radius:8px;
  border:none;
}
button {
  background:#22c55e;
}
</style>
</head>

<body>

<div class="card">
  <h3>ðŸ‘¤ Cadastro / Login</h3>

  <input id="nome" placeholder="Nome">
  <input id="senha" type="password" placeholder="Senha">

  <select id="genero">
    <option value="">GÃªnero</option>
    <option value="Masculino">Masculino</option>
    <option value="Feminino">Feminino</option>
  </select>

  <input id="meuId" placeholder="Seu ID (7 dÃ­gitos)" maxlength="7">

  <button onclick="entrar()">Entrar</button>
</div>

<script>
function entrar() {
  const nome = nomeInput.value.trim();
  const senha = senhaInput.value.trim();
  const genero = generoSelect.value;
  const id = meuId.value.trim();

  if (!nome || !senha || !genero || !/^\d{7}$/.test(id)) {
    alert("Preencha tudo corretamente (ID com 7 dÃ­gitos)");
    return;
  }

  localStorage.setItem("usuario_nome", nome);
  localStorage.setItem("usuario_genero", genero);
  localStorage.setItem("usuario_id", id);

  // cria lista de contatos se nÃ£o existir
  if (!localStorage.getItem("contatos")) {
    localStorage.setItem("contatos", JSON.stringify([]));
  }

  location.href = "chat.html";
}

const nomeInput = document.getElementById("nome");
const senhaInput = document.getElementById("senha");
const generoSelect = document.getElementById("genero");
const meuId = document.getElementById("meuId");

// login automÃ¡tico
if (localStorage.getItem("usuario_nome")) {
  location.href = "chat.html";
}
</script>

</body>
</html>
