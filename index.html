<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>AI Prof - Game Chat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
}
.hidden { display: none; }

header {
  background: #020617;
  padding: 15px;
  text-align: center;
  font-size: 22px;
  font-weight: bold;
}

.container {
  padding: 15px;
}

input, button {
  padding: 10px;
  margin: 5px 0;
  width: 100%;
  border-radius: 8px;
  border: none;
  font-size: 16px;
}

button {
  background: #22c55e;
  cursor: pointer;
}

#chat {
  height: 260px;
  background: #020617;
  border-radius: 8px;
  padding: 10px;
  overflow-y: auto;
  margin-bottom: 10px;
}

.msg { margin-bottom: 8px; }
.user { color: #60a5fa; }
.system { color: #22c55e; }

.panel {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
}

.panel div {
  flex: 1;
  background: #020617;
  padding: 10px;
  border-radius: 8px;
  text-align: center;
}
</style>
</head>

<body>

<header>ğŸ® AI Prof - Game Chat</header>

<div class="container" id="auth">
  <h3>Registrar / Login</h3>
  <input id="name" placeholder="Nome">
  <input id="pass" type="password" placeholder="Senha">
  <button onclick="login()">Entrar / Registrar</button>
</div>

<div class="container hidden" id="game">

  <div class="panel">
    <div>ğŸ’° Moedas<br><span id="coins">0</span></div>
    <div>ğŸ† NÃ­vel<br><span id="rank">1</span></div>
  </div>

  <div id="chat"></div>

  <input id="msg" placeholder="Digite sua mensagem">
  <button onclick="send()">Enviar</button>

  <hr>

  <button onclick="buyPrize()">ğŸ Comprar PrÃªmio (100.000 moedas)</button>

</div>

<script>
let user = null;
let coins = 0;

function login() {
  const name = document.getElementById("name").value;
  const pass = document.getElementById("pass").value;
  if (!name || !pass) return alert("Preencha tudo");

  user = name;
  coins = Number(localStorage.getItem("coins_" + user)) || 0;

  auth.classList.add("hidden");
  game.classList.remove("hidden");

  systemMsg("Bem-vindo, " + user + "!");
  update();
}

function send() {
  const text = msg.value.trim();
  if (!text) return;

  chatMsg(user + ": " + text, "user");
  msg.value = "";

  setTimeout(() => responderSistema(text), 500);
}

function chatMsg(text, cls) {
  const div = document.createElement("div");
  div.className = "msg " + cls;
  div.innerText = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function systemMsg(text) {
  chatMsg("AI Prof: " + text, "system");
}

function responderSistema(pergunta) {
  pergunta = pergunta.toLowerCase();
  let resposta = "";

  // HORAS
  if (pergunta.includes("hora")) {
    resposta = "Agora sÃ£o " + new Date().toLocaleTimeString("pt-BR") + ".";
  }
  // DATA
  else if (pergunta.includes("dia") || pergunta.includes("data")) {
    resposta = "Hoje Ã© " + new Date().toLocaleDateString("pt-BR") + ".";
  }
  // BRASIL
  else if (pergunta.includes("capital do brasil")) {
    resposta = "A capital do Brasil Ã© BrasÃ­lia.";
  }
  else if (pergunta.includes("anos tem o brasil")) {
    resposta = "O Brasil tem mais de 524 anos de histÃ³ria.";
  }
  // SAUDAÃ‡ÃƒO
  else if (pergunta.includes("oi") || pergunta.includes("olÃ¡")) {
    resposta = "OlÃ¡! Como posso te ajudar?";
  }
  // MOEDAS
  else if (pergunta.includes("moeda")) {
    resposta = "VocÃª ganha 1 moeda por segundo enquanto estiver online.";
  }
  // MATEMÃTICA SIMPLES
  else if (/[0-9]/.test(pergunta) && /[\+\-\*\/]/.test(pergunta)) {
    try {
      resposta = "O resultado Ã© " + eval(pergunta.replace(/[^0-9+\-*/.]/g, ""));
    } catch {
      resposta = "NÃ£o consegui calcular isso.";
    }
  }
  // PADRÃƒO (NUNCA FICA MUDO)
  else {
    resposta = "Pergunta interessante! Posso responder horas, datas, Brasil, moedas e matemÃ¡tica bÃ¡sica.";
  }

  systemMsg(resposta);
}

function update() {
  coinsEl = document.getElementById("coins");
  rankEl = document.getElementById("rank");
  coinsEl.innerText = coins;
  rankEl.innerText = Math.max(1, Math.floor(coins / 1000));
  localStorage.setItem("coins_" + user, coins);
}

// moedas por segundo
setInterval(() => {
  if (user) {
    coins++;
    update();
  }
}, 1000);

function buyPrize() {
  if (coins >= 100000) {
    coins -= 100000;
    systemMsg("ğŸ‰ PrÃªmio comprado com sucesso!");
    update();
  } else {
    systemMsg("âŒ VocÃª nÃ£o tem moedas suficientes.");
  }
}
</script>

</body>
</html>
