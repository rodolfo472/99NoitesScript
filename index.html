<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>AI Prof - Game Chat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
}
.hidden { display: none; }

header {
  background: #020617;
  padding: 15px;
  text-align: center;
  font-size: 22px;
  font-weight: bold;
}

.container {
  padding: 15px;
}

input, button {
  padding: 10px;
  margin: 5px 0;
  width: 100%;
  border-radius: 8px;
  border: none;
  font-size: 16px;
}

button {
  background: #22c55e;
  cursor: pointer;
}

#chat {
  height: 250px;
  background: #020617;
  border-radius: 8px;
  padding: 10px;
  overflow-y: auto;
  margin-bottom: 10px;
}

.msg {
  margin-bottom: 8px;
}

.user { color: #60a5fa; }
.system { color: #22c55e; }

.panel {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
}

.panel div {
  flex: 1;
  background: #020617;
  padding: 10px;
  border-radius: 8px;
  text-align: center;
}

</style>
</head>

<body>

<header>ğŸ® AI Prof - Game Chat</header>

<div class="container" id="auth">
  <h3>Registrar / Login</h3>
  <input id="name" placeholder="Nome">
  <input id="pass" type="password" placeholder="Senha">
  <button onclick="login()">Entrar / Registrar</button>
</div>

<div class="container hidden" id="game">

  <div class="panel">
    <div>ğŸ’° Moedas<br><span id="coins">0</span></div>
    <div>ğŸ† Ranking<br><span id="rank">1</span></div>
  </div>

  <div id="chat"></div>

  <input id="msg" placeholder="Digite sua mensagem">
  <button onclick="send()">Enviar</button>

  <hr>

  <button onclick="buyPrize()">ğŸ Comprar PrÃªmio (100.000 moedas)</button>

</div>

<script>
let user = null;
let coins = 0;

function login() {
  const name = document.getElementById("name").value;
  const pass = document.getElementById("pass").value;

  if (!name || !pass) {
    alert("Preencha tudo");
    return;
  }

  user = name;
  coins = Number(localStorage.getItem("coins_" + user)) || 0;

  document.getElementById("auth").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");

  systemMsg("Bem-vindo, " + user + "!");
  update();
}

function send() {
  const msg = document.getElementById("msg").value;
  if (!msg) return;

  chatMsg(user + ": " + msg, "user");
  document.getElementById("msg").value = "";
}

function chatMsg(text, cls) {
  const div = document.createElement("div");
  div.className = "msg " + cls;
  div.innerText = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function systemMsg(text) {
  chatMsg("[Sistema] " + text, "system");
}

function update() {
  document.getElementById("coins").innerText = coins;
  document.getElementById("rank").innerText = Math.max(1, Math.floor(coins / 1000));
  localStorage.setItem("coins_" + user, coins);
}

// moedas por tempo online
setInterval(() => {
  if (user) {
    coins++;
    update();
  }
}, 1000);

function buyPrize() {
  if (coins >= 100000) {
    coins -= 100000;
    systemMsg("ğŸ‰ VocÃª comprou o prÃªmio!");
    update();
  } else {
    systemMsg("âŒ Moedas insuficientes.");
  }
}
</script>

</body>
</html>
