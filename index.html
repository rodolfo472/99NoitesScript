<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Mini Rede Social</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0f172a;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.box{
  background:#111827;
  padding:25px;
  border-radius:12px;
  width:350px;
}

input, textarea, select, button{
  width:100%;
  padding:10px;
  margin-top:10px;
  border-radius:8px;
  border:none;
}

button{
  background:#2563eb;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

.hidden{ display:none }

.post{
  background:#1f2937;
  padding:10px;
  margin-top:10px;
  border-radius:8px;
}
</style>
</head>
<body>

<div class="box">

<!-- REGISTRO -->
<div id="registerPage">
  <h2>ðŸ“§ Registro</h2>
  <input type="email" id="email" placeholder="Digite seu e-mail">
  <button onclick="register()">Registrar</button>
  <p id="registerMsg"></p>
</div>

<!-- ESCOLHER SEXO -->
<div id="genderPage" class="hidden">
  <h2>Escolha seu gÃªnero</h2>
  <select id="gender">
    <option value="Masculino">Masculino</option>
    <option value="Feminino">Feminino</option>
    <option value="Outro">Outro</option>
  </select>
  <button onclick="saveGender()">Continuar</button>
</div>

<!-- POSTAGEM -->
<div id="postPage" class="hidden">
  <h2>FaÃ§a uma postagem</h2>
  <textarea id="postText" placeholder="Escreva o que quiser..."></textarea>
  <button onclick="addPost()">Postar</button>
  <div id="posts"></div>
</div>

</div>

<script>

function register(){
  const email = document.getElementById("email").value;
  const msg = document.getElementById("registerMsg");

  if(!email){
    msg.innerText="Digite um e-mail vÃ¡lido!";
    return;
  }

  if(localStorage.getItem("userEmail")){
    msg.innerText="âš  VocÃª jÃ¡ estÃ¡ registrado!";
    return;
  }

  localStorage.setItem("userEmail", email);
  document.getElementById("registerPage").classList.add("hidden");
  document.getElementById("genderPage").classList.remove("hidden");
}

function saveGender(){
  const gender = document.getElementById("gender").value;
  localStorage.setItem("userGender", gender);

  document.getElementById("genderPage").classList.add("hidden");
  document.getElementById("postPage").classList.remove("hidden");

  loadPosts();
}

function addPost(){
  const text = document.getElementById("postText").value;
  if(!text) return;

  let posts = JSON.parse(localStorage.getItem("posts")) || [];

  posts.push({
    email: localStorage.getItem("userEmail"),
    gender: localStorage.getItem("userGender"),
    text: text
  });

  localStorage.setItem("posts", JSON.stringify(posts));
  document.getElementById("postText").value="";
  loadPosts();
}

function loadPosts(){
  const postsDiv = document.getElementById("posts");
  postsDiv.innerHTML="";

  let posts = JSON.parse(localStorage.getItem("posts")) || [];

  posts.forEach(post=>{
    const div = document.createElement("div");
    div.className="post";
    div.innerHTML = `
      <strong>${post.email}</strong><br>
      <small>${post.gender}</small><br>
      ${post.text}
    `;
    postsDiv.appendChild(div);
  });
}

// Se jÃ¡ estiver registrado, ir direto para posts
if(localStorage.getItem("userEmail")){
  document.getElementById("registerPage").classList.add("hidden");
  document.getElementById("postPage").classList.remove("hidden");
  loadPosts();
}

</script>

</body>
</html>
